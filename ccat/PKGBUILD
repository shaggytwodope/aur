# Maintainer: John Jenkins <twodopeshaggy@gmail.com>

pkgname=ccat
pkgver=0.0.1
pkgrel=1
pkgdesc="Colorizes output for cat."
arch=('any')
url="https://github.com/jingweno/ccat"
license=('CUSTOM')
makedepends=('go' 'git')
conflicts=('ccat-git')
options=('!strip' '!emptydirs')
source=("https://github.com/jingweno/$pkgname/archive/v$pkgver.tar.gz")
md5sums=('0b8bbb44ec1ede4bd83e68d2bfd93bf9')

prepare() {
 mkdir -p "$srcdir/go"
 export GOPATH="$srcdir/go"
 go get github.com/codegangsta/cli
 go get github.com/sourcegraph/syntaxhighlight

}

build() {
  export GOPATH="$srcdir/go"
  cd "$srcdir/$pkgname-$pkgver/"

  msg2 'Building ccat'
  go build

}


package() {
  cd "$srcdir/$pkgname-$pkgver/"

  install -Dm755 "$pkgname-$pkgver" "$pkgdir/usr/bin/$pkgname"
  cd "$srcdir/$pkgname-$pkgver"
  mkdir -p $pkgdir/usr/share/licenses/$pkgname
  install -m 0644 LICENSE $pkgdir/usr/share/licenses/$pkgname/

}
