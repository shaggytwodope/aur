# Maintainer: John Jenkins <twodopeshaggy@gmail.com>

pkgname=drive
pkgver=0.0.4.a
pkgrel=1
pkgdesc="Pull or push Google Drive files"
arch=('x86_64' 'i686')
url="http://github.com/odeke-em/drive"
license=('Apache')
makedepends=('go')
options=('!strip' '!emptydirs')
source=("https://github.com/odeke-em/$pkgname/archive/v$pkgver.tar.gz")
sha256sums=('371163f1a43e3e691a8d6713e884d3b5bbdef8f25117b2742f98db6e51d14de0')

prepare() {
 mkdir -p go
 export GOPATH="$srcdir/go"
 go get -u -d github.com/odeke-em/drive
 go get github.com/odeke-em/drive/config
 go get github.com/rakyll/command
}

build() {
  export GOPATH="$srcdir/go"
  cd "$pkgname-$pkgver/cmd/drive"

  msg2 'Building drive'
  go build -o "$pkgname" main.go

}

package() {
  cd "$pkgname-$pkgver/cmd/drive"

  install -Dm755 "$pkgname" "$pkgdir/usr/bin/$pkgname"

}
# vim:set ts=2 sw=2 et:
